 

## 第 7 周第 2 次课和第 8 周第 1 次课作业

## 陈扬_17150011001

##  第 6 章 关系数据理论

课后习题 1、5、6、7

### 1. 理解并给出下列术语的定义：

函数依赖、部分函数依赖、完全函数依赖、传递依赖、候选码、超码、主码、外码、全码（all-key）、INF、2NF、3NF、BCNF、多值依赖、4NF。    

完全函数依赖、部分函数依赖：$R（U）$中，如果$X→Y$，并且对于$X$的任何一个真子集$X$，都有$X′→Y$，则称$Y$对$X$完全函数依赖;若$X→Y$，但$Y$不完全函数依赖于$X$，则称$Y$对$X$部分函数依赖;

候选码、主码： 设K为$R(U，F)$中的属性或属性组合，若$K → U$则K为R的候选码。若候选码多于一个，则选定其中的一个为主码。

外码：关系模式R中属性或属性组X并非R的码，但X是另一个关系模式的码，则称X是R的外部码也称外码。

全码：整个属性组是码，称为全码（All-key）。

1NF：每个关系r的属性值为不可分的原子值

2NF：满足1NF，非主属性完全函数依赖于候选键(左部不可约)

3NF：满足2NF，消除非主属性对候选键的传递依赖

BCNF：满足3NF，消除每一属性对候选键的传递依赖

4NF：满足BCNF，消除非平凡且非FD的多值依赖(MVD)

多值依赖：设$R(U)$是一个属性集U上的一个关系模式，$ X, Y$和$Z$是$U$的子集，并且$Z=U-X-Y$。关系模式$R(U)$中多值依赖 $X→Y$成立，当且仅当对R(U)的任一关系r，给定的一对$（x，z）$值，有一组$Y$的值，这组值仅仅决定于x值而与z值无关

### 5.  试举出三个多值依赖的实例。

1. 有这样一个关系 (仓库管理员，仓库号，库存产品号) ，假设一个产品只能放到一个仓库中，但是一个仓库可以有若干管理员，那么对应于一个 <仓库管理员，库存产品〉有一个仓库号，而实际上，这个仓库号只与库存产品号有关，与管理员无关，就说这是多值依赖。

2. 有这样一个关系CTB（课程，教师，参考书），但是当某一个课程增加一名教师，必须插入多个元组，同样要删掉一本参考书，则必须删除多个元组，这样对数据的增删改很不方便，数据的冗余也很明显，发现他具有一种称为多值依赖的数据依赖，

3. 有这样一个关系XUS（X,U,S），X表示公共洗衣机，U表示用户，S表示洗衣机维护职工。假设每个洗衣机会被多名用户使用，而多个维护职工会在不同时段来维护洗衣机。按照语义X->U,X->S

4. 有这样一个关系WSC(W,S,C)中，W表示仓库，S表示保管员，C表示商品。假设每个仓库有若干保管员，有若干种商品。每个保管员保管所在仓库的所有商品，每种商品被所有保管员保管。对于W的每一个值Wi，S有一个完整的集合与之对应而不问C取何值。所以W->->S。由于C与S具有完全对称性，必然有W->->C成立。

 

### 6. 有关系模式 R(A,B,C,D,E),回答下面各个问题：

(1)               若 A 是 R 的候选码，具有函数依赖 BC→DE,那么在什么条件下 R 是BCNF?

> ​       当属性组BC也是关系模式R的候选码时，R是BCNF。

(2)               如果存在函数依赖 A→B, BC→D,DE→A,列出 R 的所有码。

> ​        ACE、BCE、CDE

(3)               如果存在函数依赖 A→B, BC→D, DE→A, R 属于 3NF 还是 BCNF。

> ​      函数依赖不存在传递，因此R属于3NF，而每个函数依赖的决定因素都不包含码，因此R不属于BCNF

 

### 7. 下面的结论哪些是正确的？哪些是错误的？对于错误的请给出一个反例 说明之。

（1）         任何一个二目关系是属于 3NF 的。 对

（2）         任何一个二目关系是属于 BCNF 的。  对

（3）         任何一个二目关系是属于 4NF 的。      对

（4）         当且仅当函数依赖A→B 在R 上成立，关系 R(A,B,C)等于其投影R1(A,B) 和 R2(A,C)的连接。

•       错，当函数依赖B->A在R上成立时，关系R（A，B，C）也等于其投影R1（A,B）和R2（A,C）的连接

（5）         若 R.A→R.B，R.B→R.C，则 R.A→R.C。    对

（6）         若 R.A→R.B，R.A→R.C，则 R.A→R.(B,C)。  对

（7）         若 R.B→R.A，R.C→R.A，则 R.(B,C)→R.A。      对

（8）         若 R.(B,C)→R.A，则 R.B→R.A，R.C→R.A。

•       错，需要B和C两个属性才能确定R.A