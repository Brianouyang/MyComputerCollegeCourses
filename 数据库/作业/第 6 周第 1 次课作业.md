# 第 6 周第 1 次课作业

## 17150011001_陈扬

 第五章 数据库完整性 课后习题 4、5、6、7 

4、关系数据库管理系统的完整性控制机制应具有哪三个方面的功能？ 

( l ）定义功能，即提供定义完整性约束条件的机制；
( 2 ）检查自功能，即检查用户发出的操作请求是否违背了完整性约束条件；
( 3 ）违约知反应：如果发现用户的操作请求使数据违背了完整性约束条件，则采取一定的动道
作来保证数据的完整性。

5、关系数据库管理系统在实现参照完整性时需要考虑哪些方面？ 

参照完整性是对关系数据库中建立关联关内系的数据表间数据参照引用的约束，也就是容对外键的约束。参照完整性是指关系中的外键必须是另一个关系的主键有效值，或者是NULL。

要注意:

( l ）外码是否可以接受空值。

(2) 级联删除/修改元组

(3) 级联删除/修改主码



6、假设有下面两个关系模式： 职工(职工号,姓名,年龄,,工资,部门号),其中职工号为主码; 部门(部门号,名称,经理名,电话),其中部门号为主码。 用 SQL 语言定义这两个关系模式,要求在模式中完成以下完整性约束条件的定 义： 

（1） 定义每个模式的主码; 

（2） 定义参照完整性;

（3） 定义职工年龄不得超过 60 岁。 

```sql
CREATE TABLE DEPT 
　　 (Deptno NUMBER(2), #部门号
　　 Deptname VARCHAR(10), #名称
　　 Manager VARCHAR(10), #经理名
　　 PhoneNumber Char(12) #电话
　　 CONSTRAINT PK_SC PRIMARY KEY (Deptno)); /*定义每个模式的主码*/
CREATE TABLE EMP 
　　 (Empno NUMBER(4), #职工号
　　 Ename VARCHAR(10), #姓名
　　 Age NUMBER(2), #年龄
　　 CONSTRAINT C1 CHECK (Age<＝60), /*定义职工年龄不得超过60岁*/
　　 Job VARCHAR(9), #职务
　　 Sal NUMBER(7,2), #工资
　　 Deptno NUMBER(2), #部门号
　　 CONSTRAINT FK_DEPTNO FOREIGN KEY (Deptno) REFERENCES DEPT(Deptno)
    /*定义参照完整性*/
   )；
```



7、在关系系统中，当操作违反实体完整性、参照完整性和用户定义的完整性约束条件时，一般是如何分别处理？

- 对于违反实体完整性规则和用户定义的完整性规则的 操作一般都是采用拒绝执行的方式进行处理。

- 对于违反参照完整性的操作，并不都是简单地拒绝 执行，有时还需要采取另一种方法，即接受这个操 作，同时执行一些附加的操作，以保证数据库的状态仍然是正确的。