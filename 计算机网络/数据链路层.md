## 数据链路层

基本:数据链路层为网路层服务

从这一章开始真正的讲网络的协议

功能:差错检测和纠错,寻址

MAC 协议及性能分析

---

题外话:4G:由国家通信部统一发放牌照

- TD-LTE
- FDD-LTE
- 原理:正交频分复用(抗干扰性极高)
- OFDM:多载波调制技术

5G:

---

IEEE 局域网标准

802.1 网络互连:将局域网和 IPV6 和 IPV4 连接

802.2:逻辑链路控制:提供面向连接的数据服务

最常用的 802.3

802.11:wifi主要采用

802.4,802.5:SONET环形网络

Token :令牌保证数据发送无冲突

802.1:网络结构,寻找

---

## 数据链路层服务:

- 成帧 framing
    - 把数据报封装成帧,加上报头header和报尾trailer(帧格式) 

- 链路访问 link access 

    - 当多个节点共享媒介时,负责信道的访问控制(多种方法) 

    - 帧的报头中使用“MAC”地址以识别源节点和目的节点 
    - 与IP地址不同! 

- 相邻节点之间的可靠数据传输 reliable delivery
    - 在低位差链路上很少使用(如光纤链路,某些双绞线链路) 
    - 无线链路经常使用(确认&重传机制):高差错率 

-  流量控制 flow control

    - 有限缓存，在相邻的发送和接收节点交换信息、调节发送速率  

    - 与运输层的流量控制不重复 

-  差错检测 error detection

    - 信号衰减、电磁干扰噪声等导致比特(位)差错   

    - 接收节点检测差错，并通知发送节点重传或丢弃帧
    -  在链路层非常普及，比传输层更复杂，通过 硬件实现(快速) 

- 差错纠正 error correction
    - 接收节点不仅能检测而且能够纠正比特差错,不必重传(编码方法)   
    - 硬件控制(循环冗余校验码)
    - 预测前后帧,自动修正	

- 半双工 half-duplex 和 全双工 full-duplex

    - 半双工传输时，链路两端的节点不能同时传输和接收 

    - 现有链路大多是全双工模式

    - 全双工就是相当于两个独立的信道(使用较多)

---
### 数据链路层传输的是 IP 数据报封装成的帧,单位是帧

数据链路层就像个数字管道(datalink)

早期的协议称为通信规程(procedure)。因此 在数据链路层，规程和协议是同义语

#### 成帧同步 framing:

帧同步:决定数据帧的开始和结束,限制了最大帧长.MTU

#### 透明:

是指我们每一层的协议是在同等层实现的,实现的是透明的服务

透明的服务:我不需要知道你协议的实现,我只要知道数据就行

### 如何实现透明的传输

如何完整的表示一个帧?

- #### bit填充法

    ![image-20191012140611773](https://cy-1256894686.cos.ap-beijing.myqcloud.com/cy/2019-10-12-060612.png)

    既包含 IP 数据报的首部和尾部,又包含数据帧的首部和尾部

    加上一个转义字符

    ![image-20191012140735976](https://cy-1256894686.cos.ap-beijing.myqcloud.com/cy/2019-10-12-060736.png)

- 字符计数法:在首部设立长度字段,接收方根据长度字段决定接受的数量



- 时钟成帧法:接收方通过首部一段固定的字段控制一个帧的接受,在很多光纤传输中



